{% if wrapper_class %}<div class="{{ wrapper_class }}">{% endif %}
<div class="card {{ card_class|default:'border-0 shadow-sm' }} {% if hover %}hover-card{% endif %}" {% if style %}style="{{ style }}"{% endif %}>
  {% if header_title or header_html %}
  <div class="card-header {{ header_class }}">
    {% if header_html %}{{ header_html|safe }}{% else %}<h5 class="mb-0">{{ header_title }}</h5>{% endif %}
  </div>
  {% endif %}
  <div class="card-body {{ body_class|default:'p-4' }}">
    {% if image_url %}
    <img src="{{ image_url }}" class="rounded mb-3 w-100" {% if image_alt %}alt="{{ image_alt }}"{% endif %}>
    {% endif %}
    {% if badge_html %}<div class="mb-3">{{ badge_html|safe }}</div>{% endif %}
    {% if title %}
      {% if link_url %}<h5 class="fw-bold mb-2"><a href="{{ link_url }}">{{ title }}</a></h5>{% else %}<h5 class="fw-bold mb-2">{{ title }}</h5>{% endif %}
    {% endif %}
    {% if subtitle %}<p class="text-muted mb-2">{{ subtitle }}</p>{% endif %}
    {% if text %}<div class="small mb-3">{{ text|safe }}</div>{% endif %}
    {% if meta_left_text or meta_right_text %}
    <div class="d-flex justify-content-between align-items-center">
      {% if meta_left_text %}
      <small class="text-muted">
        {% if meta_left_icon_class %}<i class="{{ meta_left_icon_class }} me-1"></i>{% endif %}
        {{ meta_left_text }}
      </small>
      {% endif %}
      {% if meta_right_text %}
      <small class="text-muted">
        {% if meta_right_icon_class %}<i class="{{ meta_right_icon_class }} me-1"></i>{% endif %}
        {{ meta_right_text }}
      </small>
      {% endif %}
    </div>
    {% endif %}
    {% if body_html %}{{ body_html|safe }}{% endif %}
    {% if body_partial %}{% include body_partial %}{% endif %}
    {% if action_url %}
      <div class="mt-3">
        <a href="{{ action_url }}" class="{{ action_class|default:'btn btn-primary w-100 btn-rounded' }}" {% if action_download %}download{% endif %}>
          {% if action_icon_class %}<i class="{{ action_icon_class }} me-2"></i>{% endif %}{{ action_text|default:'Open' }}
        </a>
      </div>
    {% endif %}
    {% if actions_html %}<div class="mt-3">{{ actions_html|safe }}</div>{% endif %}
  </div>
  {% if footer_html %}
  <div class="card-footer {{ footer_class|default:'bg-transparent' }}">
    {{ footer_html|safe }}
  </div>
  {% endif %}
</div>
{% if wrapper_class %}</div>{% endif %}
